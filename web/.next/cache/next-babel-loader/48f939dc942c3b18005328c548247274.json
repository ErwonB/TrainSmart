{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pi/mntRaspi/trainv2/web/src/components/DaySection.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Box, Button, Flex, IconButton, Link, Text } from \"@chakra-ui/core\";\nimport NextLink from \"next/link\";\nimport { useApolloClient } from \"@apollo/client\";\nimport { useDeleteWorkoutMutation, useExoQuery } from \"../generated/graphql\";\nexport var DaySection = function DaySection(_ref) {\n  _s();\n\n  var _exo$exo, _workout$workoutDetai;\n\n  var workout = _ref.workout;\n  var apolloClient = useApolloClient();\n\n  var _useExoQuery = useExoQuery(),\n      exo = _useExoQuery.data;\n\n  var _useDeleteWorkoutMuta = useDeleteWorkoutMutation(),\n      _useDeleteWorkoutMuta2 = _slicedToArray(_useDeleteWorkoutMuta, 1),\n      deleteWorkout = _useDeleteWorkoutMuta2[0];\n\n  var exoIdtoExoDesc = {};\n  exo === null || exo === void 0 ? void 0 : (_exo$exo = exo.exo) === null || _exo$exo === void 0 ? void 0 : _exo$exo.forEach(function (e) {\n    exoIdtoExoDesc[e.exoId] = e.exoDesc;\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: workout ? /*#__PURE__*/_jsxDEV(Flex, {\n      flex: 1,\n      m: \"auto\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        p: 5,\n        mr: 4,\n        shadow: \"md\",\n        borderWidth: \"1px\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Flex, {\n            flex: 1,\n            m: \"auto\",\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              ml: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                children: workout.workoutType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 15\n          }, _this), workout === null || workout === void 0 ? void 0 : (_workout$workoutDetai = workout.workoutDetails) === null || _workout$workoutDetai === void 0 ? void 0 : _workout$workoutDetai.map(function (d) {\n            return !d ? null : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                children: [\" \", exoIdtoExoDesc[d.exoId], \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 21\n              }, _this), d.exoDetail.map(function (e) {\n                return !e ? null : /*#__PURE__*/_jsxDEV(Text, {\n                  children: [\" \", e.sets, \" / \", e.weight, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 42,\n                  columnNumber: 25\n                }, _this);\n              })]\n            }, void 0, true);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n          flex: 1,\n          m: \"auto\",\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            mr: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              as: Button,\n              icon: \"delete\",\n              \"aria-label\": \"Delete Workout\",\n              onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                var _yield$deleteWorkout, errors;\n\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return deleteWorkout({\n                          variables: {\n                            id: workout.id\n                          }\n                        });\n\n                      case 2:\n                        _yield$deleteWorkout = _context.sent;\n                        errors = _yield$deleteWorkout.errors;\n\n                        if (errors) {\n                          _context.next = 7;\n                          break;\n                        }\n\n                        _context.next = 7;\n                        return apolloClient.resetStore();\n\n                      case 7:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"xs\",\n            children: workout.workoutDt.slice(0, 10)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(Box, {\n            ml: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(NextLink, {\n              href: \"/workout/edit/[id]\",\n              as: \"/workout/edit/\".concat(workout.id),\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                as: Link,\n                mr: 4,\n                icon: \"edit\",\n                \"aria-label\": \"Edit workout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, _this) : null\n  }, void 0, false);\n};\n\n_s(DaySection, \"8DjL7IBNvVifr328bTgg3Tg2GVg=\", false, function () {\n  return [useApolloClient, useExoQuery, useDeleteWorkoutMutation];\n});\n\n_c = DaySection;\n\nvar _c;\n\n$RefreshReg$(_c, \"DaySection\");","map":{"version":3,"sources":["/home/pi/mntRaspi/trainv2/web/src/components/DaySection.tsx"],"names":["React","Box","Button","Flex","IconButton","Link","Text","NextLink","useApolloClient","useDeleteWorkoutMutation","useExoQuery","DaySection","workout","apolloClient","exo","data","deleteWorkout","exoIdtoExoDesc","forEach","e","exoId","exoDesc","workoutType","workoutDetails","map","d","exoDetail","sets","weight","variables","id","errors","resetStore","workoutDt","slice"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Box, Button, Flex, IconButton, Link, Text } from \"@chakra-ui/core\";\nimport NextLink from \"next/link\";\nimport { useApolloClient } from \"@apollo/client\";\nimport {\n  RegularWorkoutFragment,\n  useDeleteWorkoutMutation,\n  useExoQuery,\n} from \"../generated/graphql\";\n\ninterface DaySectionProps {\n  workout: RegularWorkoutFragment;\n}\n\nexport const DaySection: React.FC<DaySectionProps> = ({ workout }) => {\n  const apolloClient = useApolloClient();\n  const { data: exo } = useExoQuery();\n  const [deleteWorkout] = useDeleteWorkoutMutation();\n\n  const exoIdtoExoDesc: Record<number, string> = {};\n  exo?.exo?.forEach((e) => {\n    exoIdtoExoDesc[e.exoId] = e.exoDesc;\n  });\n\n  return (\n    <>\n      {workout ? (\n        <Flex flex={1} m=\"auto\">\n          <Box p={5} mr={4} shadow=\"md\" borderWidth=\"1px\">\n            <Box>\n              <Flex flex={1} m=\"auto\" align=\"center\">\n                <Box ml={\"auto\"}>\n                  <Text>{workout.workoutType}</Text>\n                </Box>\n              </Flex>\n              {workout?.workoutDetails?.map((d) =>\n                !d ? null : (\n                  <>\n                    <Text> {exoIdtoExoDesc[d.exoId]} </Text>\n                    {d.exoDetail.map((e) =>\n                      !e ? null : (\n                        <Text>\n                          {\" \"}\n                          {e.sets} / {e.weight}{\" \"}\n                        </Text>\n                      )\n                    )}\n                  </>\n                )\n              )}\n            </Box>\n            <Flex flex={1} m=\"auto\" align=\"center\">\n              <Box mr={\"auto\"}>\n                <IconButton\n                  as={Button}\n                  icon=\"delete\"\n                  aria-label=\"Delete Workout\"\n                  onClick={async () => {\n                    const { errors } = await deleteWorkout({\n                      variables: { id: workout.id },\n                    });\n                    if (!errors) {\n                      await apolloClient.resetStore();\n                    }\n                  }}\n                />\n              </Box>\n              <Text fontSize=\"xs\">{workout.workoutDt.slice(0, 10)}</Text>\n              <Box ml={\"auto\"}>\n                <NextLink\n                  href=\"/workout/edit/[id]\"\n                  as={`/workout/edit/${workout.id}`}\n                >\n                  <IconButton\n                    as={Link}\n                    mr={4}\n                    icon=\"edit\"\n                    aria-label=\"Edit workout\"\n                  />\n                </NextLink>\n              </Box>\n            </Flex>\n          </Box>\n        </Flex>\n      ) : null}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}